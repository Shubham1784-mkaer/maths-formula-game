<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vocabulary Matching Game</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 20px;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100%;
            color: #2d3748;
        }

        .game-container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .game-title {
            font-size: 2.5rem;
            font-weight: bold;
            color: #4c51bf;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .instructions {
            font-size: 1.1rem;
            color: #718096;
            margin-bottom: 20px;
        }

        .score-board {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
        }

        .score-item {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            padding: 15px 25px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 1.1rem;
            box-shadow: 0 4px 15px rgba(72, 187, 120, 0.3);
        }

        .game-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 30px;
        }

        .terms-column, .definitions-column {
            background: #f7fafc;
            padding: 25px;
            border-radius: 15px;
            border: 3px solid #e2e8f0;
        }

        .column-title {
            font-size: 1.4rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            color: #4c51bf;
        }

        .term-card, .definition-card {
            background: white;
            padding: 15px 20px;
            margin-bottom: 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            position: relative;
            user-select: none;
        }

        .term-card {
            background: linear-gradient(135deg, #fbb6ce, #f687b3);
            color: #702459;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .definition-card {
            background: linear-gradient(135deg, #90cdf4, #63b3ed);
            color: #2c5282;
            line-height: 1.4;
        }

        .term-card:hover, .definition-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .term-card.selected {
            border-color: #e53e3e;
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(229, 62, 62, 0.4);
        }

        .definition-card.highlight {
            border-color: #38a169;
            animation: pulse 1s infinite;
        }

        .matched {
            opacity: 0.6;
            transform: scale(0.95);
            cursor: default !important;
            background: linear-gradient(135deg, #68d391, #48bb78) !important;
            color: white !important;
        }

        .matched::after {
            content: "‚úì";
            position: absolute;
            top: 5px;
            right: 10px;
            font-size: 1.5rem;
            color: white;
            font-weight: bold;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        @keyframes celebrate {
            0% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.1) rotate(5deg); }
            50% { transform: scale(1.2) rotate(-5deg); }
            75% { transform: scale(1.1) rotate(3deg); }
            100% { transform: scale(1) rotate(0deg); }
        }

        .celebrate {
            animation: celebrate 0.6s ease-in-out;
        }

        .mathematician-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            z-index: 1000;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            animation: mathematicianAppear 2s ease-in-out;
            max-width: 300px;
        }

        @keyframes mathematicianAppear {
            0% { transform: translate(-50%, -50%) scale(0) rotate(-180deg); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.2) rotate(0deg); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1) rotate(0deg); opacity: 1; }
        }

        .mathematician-emoji {
            font-size: 4rem;
            display: block;
            margin-bottom: 15px;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .mathematician-name {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .mathematician-quote {
            font-style: italic;
            font-size: 1rem;
            opacity: 0.9;
        }

        .hint-system {
            text-align: center;
            margin-bottom: 20px;
        }

        .hint-btn, .formula-btn {
            background: linear-gradient(135deg, #fbd38d, #f6ad55);
            color: #744210;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(251, 211, 141, 0.4);
            margin: 0 10px;
        }

        .formula-btn {
            background: linear-gradient(135deg, #c084fc, #a855f7);
            color: white;
            box-shadow: 0 4px 15px rgba(192, 132, 252, 0.4);
        }

        .hint-btn:hover, .formula-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(251, 211, 141, 0.6);
        }

        .formula-btn:hover {
            box-shadow: 0 6px 20px rgba(192, 132, 252, 0.6);
        }

        .hint-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .hint-display {
            background: #fff5f5;
            border: 2px solid #feb2b2;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            color: #c53030;
            font-weight: bold;
            display: none;
        }

        .formula-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .formula-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            max-height: 80%;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            position: relative;
        }

        .formula-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .formula-title {
            font-size: 1.8rem;
            font-weight: bold;
            color: #4c51bf;
            margin-bottom: 10px;
        }

        .formula-subtitle {
            color: #718096;
            font-size: 1rem;
        }

        .formula-section {
            margin-bottom: 25px;
        }

        .formula-section-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e2e8f0;
        }

        .formula-item {
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 10px;
            border-left: 4px solid #4c51bf;
        }

        .formula-name {
            font-weight: bold;
            color: #2d3748;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .formula-equation {
            font-family: 'Courier New', monospace;
            background: #4c51bf;
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: bold;
            display: inline-block;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: #e53e3e;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: #c53030;
            transform: scale(1.1);
        }

        .game-section {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border: 2px solid #0ea5e9;
        }

        .game-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #0c4a6e;
            margin-bottom: 8px;
        }

        .game-description {
            color: #0369a1;
            margin-bottom: 15px;
            font-style: italic;
        }

        .shape-selector, .volume-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .shape-btn, .volume-btn {
            background: linear-gradient(135deg, #38bdf8, #0ea5e9);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .shape-btn:hover, .volume-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(14, 165, 233, 0.4);
        }

        .shape-btn.active, .volume-btn.active {
            background: linear-gradient(135deg, #1e40af, #1d4ed8);
            box-shadow: 0 4px 12px rgba(30, 64, 175, 0.4);
        }

        .shape-inputs, .volume-inputs {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .input-group label {
            font-weight: bold;
            color: #0c4a6e;
            font-size: 0.9rem;
        }

        .input-group input {
            padding: 8px 12px;
            border: 2px solid #bae6fd;
            border-radius: 8px;
            font-size: 1rem;
            width: 120px;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: #0ea5e9;
            box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1);
        }

        .calculate-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 15px;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
        }

        .result-display {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 2px solid #f59e0b;
            border-radius: 10px;
            padding: 15px;
            font-weight: bold;
            color: #92400e;
            min-height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quiz-game {
            background: white;
            border-radius: 12px;
            padding: 20px;
        }

        .quiz-question {
            font-size: 1.1rem;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 20px;
            text-align: center;
            background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
            padding: 15px;
            border-radius: 10px;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }

        .quiz-option {
            background: linear-gradient(135deg, #ddd6fe, #c4b5fd);
            color: #5b21b6;
            border: 2px solid transparent;
            padding: 12px 16px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            text-align: center;
        }

        .quiz-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
        }

        .quiz-option.correct {
            background: linear-gradient(135deg, #86efac, #4ade80);
            color: #14532d;
            border-color: #16a34a;
        }

        .quiz-option.incorrect {
            background: linear-gradient(135deg, #fca5a5, #f87171);
            color: #7f1d1d;
            border-color: #dc2626;
        }

        .quiz-option.disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .quiz-feedback {
            text-align: center;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-weight: bold;
            min-height: 20px;
        }

        .quiz-feedback.correct {
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            color: #14532d;
            border: 2px solid #16a34a;
        }

        .quiz-feedback.incorrect {
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            color: #7f1d1d;
            border: 2px solid #dc2626;
        }

        .quiz-score {
            text-align: center;
            font-size: 1.1rem;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 15px;
        }

        .next-question-btn, .restart-quiz-btn {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 0 auto;
        }

        .next-question-btn:hover, .restart-quiz-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
        }

        .definitions-matching-game {
            background: white;
            border-radius: 12px;
            padding: 20px;
        }

        .definitions-score {
            text-align: center;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 20px;
            font-size: 1.1rem;
            background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
            padding: 10px;
            border-radius: 8px;
        }

        .definitions-game-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
            min-height: 300px;
        }

        .definitions-terms, .definitions-meanings {
            background: linear-gradient(135deg, #f8fafc, #f1f5f9);
            border-radius: 10px;
            padding: 15px;
            border: 2px solid #e2e8f0;
        }

        .def-term-card, .def-meaning-card {
            background: white;
            padding: 12px 16px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            user-select: none;
            font-size: 0.95rem;
            line-height: 1.4;
        }

        .def-term-card {
            background: linear-gradient(135deg, #e0e7ff, #c7d2fe);
            color: #3730a3;
            font-weight: bold;
        }

        .def-meaning-card {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            color: #92400e;
        }

        .def-term-card:hover, .def-meaning-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .def-term-card.selected {
            border-color: #dc2626;
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(220, 38, 38, 0.4);
        }

        .def-meaning-card.highlight {
            border-color: #059669;
            animation: defPulse 1s infinite;
        }

        .def-matched {
            opacity: 0.6;
            transform: scale(0.95);
            cursor: default !important;
            background: linear-gradient(135deg, #86efac, #4ade80) !important;
            color: white !important;
            position: relative;
        }

        .def-matched::after {
            content: "‚úì";
            position: absolute;
            top: 5px;
            right: 8px;
            font-size: 1.2rem;
            color: white;
            font-weight: bold;
        }

        @keyframes defPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .definitions-controls {
            text-align: center;
            margin-bottom: 15px;
        }

        .definitions-feedback {
            text-align: center;
            padding: 10px;
            border-radius: 8px;
            font-weight: bold;
            min-height: 20px;
        }

        .definitions-feedback.success {
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            color: #14532d;
            border: 2px solid #16a34a;
        }

        .definitions-feedback.error {
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            color: #7f1d1d;
            border: 2px solid #dc2626;
        }

        .definitions-feedback.complete {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            color: #1e40af;
            border: 2px solid #3b82f6;
        }

        @media (max-width: 768px) {
            .quiz-options {
                grid-template-columns: 1fr;
            }
            
            .shape-inputs, .volume-inputs {
                flex-direction: column;
            }
            
            .input-group input {
                width: 100%;
            }

            .definitions-game-area {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }

        .success-message {
            text-align: center;
            background: linear-gradient(135deg, #68d391, #48bb78);
            color: white;
            padding: 25px;
            border-radius: 15px;
            font-size: 1.3rem;
            font-weight: bold;
            display: none;
            box-shadow: 0 10px 30px rgba(72, 187, 120, 0.3);
        }

        .reset-btn {
            background: linear-gradient(135deg, #a78bfa, #8b5cf6);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(167, 139, 250, 0.4);
        }

        .reset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(167, 139, 250, 0.6);
        }

        .reset-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            background: linear-gradient(135deg, #9ca3af, #6b7280);
            box-shadow: none;
        }

        .reset-btn:disabled:hover {
            transform: none;
            box-shadow: none;
        }

        @media (max-width: 768px) {
            .game-area {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .score-board {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
            
            .game-title {
                font-size: 2rem;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="game-container">
   <div class="header">
    <h1 class="game-title" id="gameTitle">Geometry Vocabulary Match</h1>
    <p class="instructions" id="instructionsText">Drag and drop or click to match each geometry term with its correct definition!</p>
   </div>
   <div class="score-board">
    <div class="score-item"><span>Correct: </span><span id="correctCount">0</span>
    </div>
    <div class="score-item"><span>Remaining: </span><span id="remainingCount">6</span>
    </div>
   </div>
   <div class="hint-system"><button class="hint-btn" id="hintBtn" onclick="showHint()">üí° Get Hint</button> <button class="formula-btn" onclick="showFormulas()">üìê Math Definitions</button>
    <div class="hint-display" id="hintDisplay"></div>
   </div>
   <div class="game-area">
    <div class="terms-column">
     <h3 class="column-title">üìä Mathematical Terms</h3>
     <div id="termsContainer"></div>
    </div>
    <div class="definitions-column">
     <h3 class="column-title">üî¢ Formulas</h3>
     <div id="definitionsContainer"></div>
    </div>
   </div>
   <div class="success-message" id="successMessage">
    üéâ Congratulations! You've matched all the vocabulary terms correctly! üéâ
   </div>
   <div style="text-align: center;"><button class="reset-btn" id="resetBtn" onclick="resetGame()" disabled>üîÑ Play Again</button>
    <div id="gameStatusMessage" style="margin-top: 10px; color: #718096; font-style: italic; display: none;">
     Complete the current game to play again!
    </div>
   </div>
  </div><!-- Formula Modal -->
  <div class="formula-modal" id="formulaModal">
   <div class="formula-content"><button class="close-btn" onclick="closeFormulas()">√ó</button>
    <div class="formula-header">
     <h2 class="formula-title">üìê Mathematical Definitions</h2>
     <p class="formula-subtitle">Essential definitions and formulas for geometry, area, volume, and more!</p>
    </div>
    <div class="formula-section">
     <h3 class="formula-section-title">üéÆ Interactive Math Games</h3><!-- Mathematical Terms Matching Game -->
     <div class="game-section">
      <h4 class="game-title">üß† Math Terms Matching Challenge</h4>
      <p class="game-description">Match mathematical terms with their definitions!</p>
      <div class="definitions-matching-game">
       <div class="definitions-score">
        Score: <span id="defScore">0</span>/5 | Time: <span id="defTimer">0</span>s
       </div>
       <div class="definitions-game-area">
        <div class="definitions-terms">
         <h5 style="text-align: center; color: #4c51bf; margin-bottom: 15px;">üìö Terms</h5>
         <div id="defTermsContainer"></div>
        </div>
        <div class="definitions-meanings">
         <h5 style="text-align: center; color: #4c51bf; margin-bottom: 15px;">üìñ Definitions</h5>
         <div id="defMeaningsContainer"></div>
        </div>
       </div>
       <div class="definitions-controls"><button class="calculate-btn" onclick="startDefinitionsGame()" id="defStartBtn">üéØ Start Game</button> <button class="calculate-btn" onclick="resetDefinitionsGame()" id="defResetBtn" style="display: none;">üîÑ Play Again</button>
       </div>
       <div class="definitions-feedback" id="defFeedback"></div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <script>
        const defaultConfig = {
            game_title: "Formula Matching Challenge",
            instructions_text: "Match each mathematical term with its correct formula! Click a term, then click its matching formula.",
            success_message: "üéâ Excellent! You've mastered all the mathematical formulas! üéâ"
        };

        const allVocabularyTerms = [
            {
                id: 1,
                term: "Rectangle Area",
                definition: "length √ó width",
                hint: "Multiply the two different sides of the rectangle"
            },
            {
                id: 2,
                term: "Triangle Area",
                definition: "¬Ω √ó base √ó height",
                hint: "Half of base times height"
            },
            {
                id: 3,
                term: "Circle Area",
                definition: "œÄ √ó radius¬≤",
                hint: "Pi times radius squared"
            },
            {
                id: 4,
                term: "Square Area",
                definition: "side √ó side",
                hint: "Side length multiplied by itself"
            },
            {
                id: 5,
                term: "Circle Circumference",
                definition: "2 √ó œÄ √ó radius",
                hint: "Two times pi times radius"
            },
            {
                id: 6,
                term: "Rectangle Perimeter",
                definition: "2 √ó (length + width)",
                hint: "Two times the sum of length and width"
            },
            {
                id: 7,
                term: "Square Perimeter",
                definition: "4 √ó side",
                hint: "Four times the side length"
            },
            {
                id: 8,
                term: "Cube Volume",
                definition: "side¬≥",
                hint: "Side length cubed"
            },
            {
                id: 9,
                term: "Cylinder Volume",
                definition: "œÄ √ó radius¬≤ √ó height",
                hint: "Pi times radius squared times height"
            },
            {
                id: 10,
                term: "Sphere Volume",
                definition: "(4/3) √ó œÄ √ó radius¬≥",
                hint: "Four-thirds times pi times radius cubed"
            },
            {
                id: 11,
                term: "Rectangular Prism Volume",
                definition: "length √ó width √ó height",
                hint: "Multiply all three dimensions"
            },
            {
                id: 12,
                term: "Cone Volume",
                definition: "(1/3) √ó œÄ √ó radius¬≤ √ó height",
                hint: "One-third times pi times radius squared times height"
            },
            {
                id: 13,
                term: "Pythagorean Theorem",
                definition: "a¬≤ + b¬≤ = c¬≤",
                hint: "Sum of squares of two sides equals square of hypotenuse"
            },
            {
                id: 14,
                term: "Simple Interest",
                definition: "Principal √ó Rate √ó Time",
                hint: "Multiply principal, rate, and time"
            },
            {
                id: 15,
                term: "Percentage Formula",
                definition: "(Part √∑ Whole) √ó 100",
                hint: "Part divided by whole, times 100"
            },
            {
                id: 16,
                term: "Profit Formula",
                definition: "Selling Price - Cost Price",
                hint: "What you sell for minus what you paid"
            },
            {
                id: 17,
                term: "Loss Formula",
                definition: "Cost Price - Selling Price",
                hint: "What you paid minus what you sold for"
            },
            {
                id: 18,
                term: "Mean (Average)",
                definition: "Sum of values √∑ Number of values",
                hint: "Add all values and divide by count"
            },
            {
                id: 19,
                term: "Speed Formula",
                definition: "Distance √∑ Time",
                hint: "How far divided by how long"
            },
            {
                id: 20,
                term: "Distance Formula",
                definition: "Speed √ó Time",
                hint: "How fast times how long"
            },
            {
                id: 21,
                term: "Parallelogram Area",
                definition: "base √ó height",
                hint: "Base times perpendicular height"
            },
            {
                id: 22,
                term: "Trapezoid Area",
                definition: "¬Ω √ó (base‚ÇÅ + base‚ÇÇ) √ó height",
                hint: "Half times sum of parallel sides times height"
            },
            {
                id: 23,
                term: "Compound Interest",
                definition: "P(1 + r)·µó - P",
                hint: "Principal times (1 plus rate) to the power of time, minus principal"
            },
            {
                id: 24,
                term: "Slope Formula",
                definition: "(y‚ÇÇ - y‚ÇÅ) √∑ (x‚ÇÇ - x‚ÇÅ)",
                hint: "Change in y divided by change in x"
            },
            {
                id: 25,
                term: "Quadratic Formula",
                definition: "x = (-b ¬± ‚àö(b¬≤ - 4ac)) √∑ 2a",
                hint: "Negative b plus or minus square root of discriminant, over 2a"
            },
            {
                id: 26,
                term: "Surface Area of Cube",
                definition: "6 √ó side¬≤",
                hint: "Six times side squared"
            },
            {
                id: 27,
                term: "Surface Area of Cylinder",
                definition: "2œÄr¬≤ + 2œÄrh",
                hint: "Two circular ends plus curved surface"
            },
            {
                id: 28,
                term: "Surface Area of Sphere",
                definition: "4 √ó œÄ √ó radius¬≤",
                hint: "Four times pi times radius squared"
            },
            {
                id: 29,
                term: "Probability Formula",
                definition: "Favorable outcomes √∑ Total outcomes",
                hint: "What you want divided by what's possible"
            },
            {
                id: 30,
                term: "Density Formula",
                definition: "Mass √∑ Volume",
                hint: "How much matter divided by how much space"
            },
            {
                id: 31,
                term: "Commission Formula",
                definition: "Sales √ó Commission Rate",
                hint: "Total sales times percentage rate"
            },
            {
                id: 32,
                term: "Discount Formula",
                definition: "Original Price √ó Discount Rate",
                hint: "Starting price times percentage off"
            },
            {
                id: 33,
                term: "Tax Formula",
                definition: "Price √ó Tax Rate",
                hint: "Cost times tax percentage"
            },
            {
                id: 34,
                term: "Celsius to Fahrenheit",
                definition: "(C √ó 9/5) + 32",
                hint: "Celsius times nine-fifths plus thirty-two"
            },
            {
                id: 35,
                term: "Fahrenheit to Celsius",
                definition: "(F - 32) √ó 5/9",
                hint: "Fahrenheit minus thirty-two times five-ninths"
            },
            {
                id: 36,
                term: "Midpoint Formula",
                definition: "((x‚ÇÅ + x‚ÇÇ)/2, (y‚ÇÅ + y‚ÇÇ)/2)",
                hint: "Average of x-coordinates, average of y-coordinates"
            },
            {
                id: 37,
                term: "Distance Between Points",
                definition: "‚àö((x‚ÇÇ - x‚ÇÅ)¬≤ + (y‚ÇÇ - y‚ÇÅ)¬≤)",
                hint: "Square root of sum of squared differences"
            },
            {
                id: 38,
                term: "Compound Annual Growth",
                definition: "Final Value √∑ Initial Value^(1/years) - 1",
                hint: "Final over initial to the power of one over years, minus one"
            },
            {
                id: 39,
                term: "Work Rate Formula",
                definition: "Work = Rate √ó Time",
                hint: "Amount done equals speed times duration"
            },
            {
                id: 40,
                term: "Ratio Formula",
                definition: "a : b = a/b",
                hint: "Comparison written as fraction"
            }
        ];

        let vocabularySet = [];
        let usedTermSets = [];

        const mathematicians = [
            { 
                emoji: "üßÆ", 
                name: "Pythagoras", 
                quote: "Numbers rule the universe!",
                photo: `<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Kapitolinischer_Pythagoras_adjusted.jpg/256px-Kapitolinischer_Pythagoras_adjusted.jpg" 
                         alt="Pythagoras portrait" 
                         style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 3px solid #f4a261;"
                         onerror="this.src=''; this.alt='Pythagoras portrait failed to load'; this.style.display='none';">`
            },
            { 
                emoji: "üìê", 
                name: "Euclid", 
                quote: "There is no royal road to geometry!",
                photo: `<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/30/Euklid-von-Alexandria_1.jpg/256px-Euklid-von-Alexandria_1.jpg" 
                         alt="Euclid portrait" 
                         style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 3px solid #a8dadc;"
                         onerror="this.src=''; this.alt='Euclid portrait failed to load'; this.style.display='none';">`
            },
            { 
                emoji: "üî¢", 
                name: "Fibonacci", 
                quote: "Nature's patterns are mathematical!",
                photo: `<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Fibonacci.jpg/256px-Fibonacci.jpg" 
                         alt="Fibonacci portrait" 
                         style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 3px solid #90e0ef;"
                         onerror="this.src=''; this.alt='Fibonacci portrait failed to load'; this.style.display='none';">`
            },
            { 
                emoji: "‚ö°", 
                name: "Newton", 
                quote: "Mathematics is the language of nature!",
                photo: `<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/GodfreyKneller-IsaacNewton-1689.jpg/256px-GodfreyKneller-IsaacNewton-1689.jpg" 
                         alt="Isaac Newton portrait" 
                         style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 3px solid #fca311;"
                         onerror="this.src=''; this.alt='Newton portrait failed to load'; this.style.display='none';">`
            },
            { 
                emoji: "üåü", 
                name: "Gauss", 
                quote: "Mathematics is the queen of sciences!",
                photo: `<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9b/Carl_Friedrich_Gauss.jpg/256px-Carl_Friedrich_Gauss.jpg" 
                         alt="Carl Friedrich Gauss portrait" 
                         style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 3px solid #b7e4c7;"
                         onerror="this.src=''; this.alt='Gauss portrait failed to load'; this.style.display='none';">`
            },
            { 
                emoji: "üéØ", 
                name: "Euler", 
                quote: "Read Euler, he is our master in everything!",
                photo: `<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Leonhard_Euler.jpg/256px-Leonhard_Euler.jpg" 
                         alt="Leonhard Euler portrait" 
                         style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 3px solid #f72585;"
                         onerror="this.src=''; this.alt='Euler portrait failed to load'; this.style.display='none';">`
            }
        ];

        let selectedTerm = null;
        let matchedPairs = [];
        let hintsUsed = 0;
        let currentHintIndex = 0;

        function selectRandomTerms() {
            // Get available terms (not used in recent games)
            let availableTerms = allVocabularyTerms.filter(term => 
                !usedTermSets.some(usedSet => usedSet.includes(term.id))
            );
            
            // If we've used most terms, reset the used sets but keep the last one
            if (availableTerms.length < 6) {
                usedTermSets = usedTermSets.slice(-1);
                availableTerms = allVocabularyTerms.filter(term => 
                    !usedTermSets.some(usedSet => usedSet.includes(term.id))
                );
            }
            
            // Shuffle and select 6 terms
            const shuffled = availableTerms.sort(() => Math.random() - 0.5);
            vocabularySet = shuffled.slice(0, 6);
            
            // Track this set as used
            usedTermSets.push(vocabularySet.map(term => term.id));
        }

        function initializeGame() {
            selectRandomTerms();
            renderTerms();
            renderDefinitions();
            updateScore();
            updateResetButton();
        }

        function renderTerms() {
            const container = document.getElementById('termsContainer');
            container.innerHTML = '';
            
            vocabularySet.forEach(item => {
                if (!matchedPairs.includes(item.id)) {
                    const termCard = document.createElement('div');
                    termCard.className = 'term-card';
                    termCard.textContent = item.term;
                    termCard.onclick = () => selectTerm(item.id, termCard);
                    termCard.draggable = true;
                    termCard.ondragstart = (e) => {
                        e.dataTransfer.setData('text/plain', item.id);
                        selectTerm(item.id, termCard);
                    };
                    container.appendChild(termCard);
                }
            });
        }

        function renderDefinitions() {
            const container = document.getElementById('definitionsContainer');
            container.innerHTML = '';
            
            // Shuffle definitions for variety
            const shuffledSet = [...vocabularySet].sort(() => Math.random() - 0.5);
            
            shuffledSet.forEach(item => {
                if (!matchedPairs.includes(item.id)) {
                    const defCard = document.createElement('div');
                    defCard.className = 'definition-card';
                    defCard.textContent = item.definition;
                    defCard.onclick = () => attemptMatch(item.id);
                    defCard.ondragover = (e) => e.preventDefault();
                    defCard.ondrop = (e) => {
                        e.preventDefault();
                        const termId = parseInt(e.dataTransfer.getData('text/plain'));
                        attemptMatch(item.id, termId);
                    };
                    container.appendChild(defCard);
                }
            });
        }

        function selectTerm(termId, cardElement) {
            // Clear previous selections
            document.querySelectorAll('.term-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.querySelectorAll('.definition-card').forEach(card => {
                card.classList.remove('highlight');
            });
            
            selectedTerm = termId;
            cardElement.classList.add('selected');
            
            // Highlight possible definitions
            document.querySelectorAll('.definition-card').forEach(card => {
                card.classList.add('highlight');
            });
        }

        function attemptMatch(definitionId, draggedTermId = null) {
            const termId = draggedTermId || selectedTerm;
            
            if (!termId) return;
            
            if (termId === definitionId) {
                // Correct match!
                matchedPairs.push(termId);
                celebrateMatch();
                setTimeout(() => {
                    renderTerms();
                    renderDefinitions();
                    updateScore();
                    updateResetButton();
                    checkGameComplete();
                }, 600);
            } else {
                // Incorrect match - show feedback
                showIncorrectFeedback();
            }
            
            selectedTerm = null;
        }

        function celebrateMatch() {
            // Add celebration animation to the game container
            const container = document.querySelector('.game-container');
            container.classList.add('celebrate');
            setTimeout(() => container.classList.remove('celebrate'), 600);
            
            // Play success sound effect (visual feedback)
            const scoreItems = document.querySelectorAll('.score-item');
            scoreItems.forEach(item => {
                item.style.transform = 'scale(1.1)';
                setTimeout(() => item.style.transform = 'scale(1)', 200);
            });
            
            // Show mathematician celebration
            showMathematicianCelebration();
        }

        function showMathematicianCelebration() {
            const mathematician = mathematicians[Math.floor(Math.random() * mathematicians.length)];
            
            const popup = document.createElement('div');
            popup.className = 'mathematician-popup';
            popup.innerHTML = `
                <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 15px;">
                    <span class="mathematician-emoji" style="margin-right: 15px;">${mathematician.emoji}</span>
                    <div>${mathematician.photo}</div>
                </div>
                <div class="mathematician-name">${mathematician.name}</div>
                <div class="mathematician-quote">"${mathematician.quote}"</div>
            `;
            
            document.body.appendChild(popup);
            
            // Remove popup after animation
            setTimeout(() => {
                popup.remove();
            }, 2000);
        }

        function showIncorrectFeedback() {
            const gameArea = document.querySelector('.game-area');
            gameArea.style.border = '3px solid #e53e3e';
            setTimeout(() => gameArea.style.border = 'none', 1000);
        }

        function updateScore() {
            document.getElementById('correctCount').textContent = matchedPairs.length;
            document.getElementById('remainingCount').textContent = vocabularySet.length - matchedPairs.length;
        }

        function updateResetButton() {
            const resetBtn = document.getElementById('resetBtn');
            const statusMessage = document.getElementById('gameStatusMessage');
            const isGameComplete = matchedPairs.length === vocabularySet.length;
            
            if (isGameComplete) {
                resetBtn.disabled = false;
                statusMessage.style.display = 'none';
            } else {
                resetBtn.disabled = true;
                statusMessage.style.display = 'block';
            }
        }

        function showHint() {
            const hintDisplay = document.getElementById('hintDisplay');
            const hintBtn = document.getElementById('hintBtn');
            
            // Find an unmatched item to give hint for
            const unmatchedItems = vocabularySet.filter(item => !matchedPairs.includes(item.id));
            
            if (unmatchedItems.length === 0) return;
            
            const hintItem = unmatchedItems[currentHintIndex % unmatchedItems.length];
            hintDisplay.textContent = `Hint for "${hintItem.term}": ${hintItem.hint}`;
            hintDisplay.style.display = 'block';
            
            hintsUsed++;
            currentHintIndex++;
            
            // Disable hint button temporarily
            hintBtn.disabled = true;
            setTimeout(() => {
                hintBtn.disabled = false;
                hintDisplay.style.display = 'none';
            }, 5000);
        }

        function checkGameComplete() {
            if (matchedPairs.length === vocabularySet.length) {
                setTimeout(() => {
                    document.getElementById('successMessage').style.display = 'block';
                    document.querySelector('.game-area').style.display = 'none';
                    document.querySelector('.hint-system').style.display = 'none';
                }, 500);
            }
        }

        function resetGame() {
            // Check if current game is complete
            if (matchedPairs.length < vocabularySet.length) {
                // Show warning message
                const statusMessage = document.getElementById('gameStatusMessage');
                statusMessage.textContent = '‚ö†Ô∏è Please finish the current game first!';
                statusMessage.style.color = '#e53e3e';
                statusMessage.style.fontWeight = 'bold';
                
                // Reset message after 3 seconds
                setTimeout(() => {
                    statusMessage.textContent = 'Complete the current game to play again!';
                    statusMessage.style.color = '#718096';
                    statusMessage.style.fontWeight = 'normal';
                }, 3000);
                
                return;
            }
            
            matchedPairs = [];
            selectedTerm = null;
            hintsUsed = 0;
            currentHintIndex = 0;
            
            document.getElementById('successMessage').style.display = 'none';
            document.querySelector('.game-area').style.display = 'grid';
            document.querySelector('.hint-system').style.display = 'block';
            document.getElementById('hintDisplay').style.display = 'none';
            
            // Select new terms for the next game
            initializeGame();
        }

        function showFormulas() {
            document.getElementById('formulaModal').style.display = 'flex';
        }

        function closeFormulas() {
            document.getElementById('formulaModal').style.display = 'none';
        }

        // Close modal when clicking outside the content
        document.addEventListener('click', function(event) {
            const modal = document.getElementById('formulaModal');
            if (event.target === modal) {
                closeFormulas();
            }
        });

        // Element SDK implementation
        async function onConfigChange(config) {
            const gameTitle = config.game_title || defaultConfig.game_title;
            const instructionsText = config.instructions_text || defaultConfig.instructions_text;
            const successMessage = config.success_message || defaultConfig.success_message;
            
            document.getElementById('gameTitle').textContent = gameTitle;
            document.getElementById('instructionsText').textContent = instructionsText;
            document.getElementById('successMessage').innerHTML = successMessage;
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [
                    {
                        get: () => config.primary_color || "#4c51bf",
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ primary_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.secondary_color || "#48bb78",
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ secondary_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.accent_color || "#fbb6ce",
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ accent_color: value });
                            }
                        }
                    }
                ],
                borderables: [],
                fontEditable: {
                    get: () => config.font_family || "Comic Sans MS",
                    set: (value) => {
                        if (window.elementSdk) {
                            window.elementSdk.setConfig({ font_family: value });
                        }
                    }
                },
                fontSizeable: {
                    get: () => config.font_size || 16,
                    set: (value) => {
                        if (window.elementSdk) {
                            window.elementSdk.setConfig({ font_size: value });
                        }
                    }
                }
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["game_title", config.game_title || defaultConfig.game_title],
                ["instructions_text", config.instructions_text || defaultConfig.instructions_text],
                ["success_message", config.success_message || defaultConfig.success_message]
            ]);
        }

        // Initialize the Element SDK
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities,
                mapToEditPanelValues
            });
        }



        // Mathematical Definitions Matching Game
        const mathDefinitions = [
            { id: 1, term: "Acute Angle", definition: "An angle that measures less than 90 degrees" },
            { id: 2, term: "Obtuse Angle", definition: "An angle that measures more than 90 degrees but less than 180 degrees" },
            { id: 3, term: "Right Angle", definition: "An angle that measures exactly 90 degrees" },
            { id: 4, term: "Parallel Lines", definition: "Lines that never intersect and are always the same distance apart" },
            { id: 5, term: "Perpendicular Lines", definition: "Lines that intersect at a 90-degree angle" },
            { id: 6, term: "Diameter", definition: "A straight line passing through the center of a circle, touching two points on the circumference" },
            { id: 7, term: "Radius", definition: "A straight line from the center of a circle to any point on the circumference" },
            { id: 8, term: "Circumference", definition: "The distance around the outside of a circle" },
            { id: 9, term: "Perimeter", definition: "The distance around the outside of a polygon" },
            { id: 10, term: "Area", definition: "The amount of space inside a two-dimensional shape" },
            { id: 11, term: "Volume", definition: "The amount of space inside a three-dimensional object" },
            { id: 12, term: "Vertex", definition: "A point where two or more lines meet to form an angle" },
            { id: 13, term: "Polygon", definition: "A closed figure made up of straight line segments" },
            { id: 14, term: "Triangle", definition: "A polygon with three sides and three angles" },
            { id: 15, term: "Quadrilateral", definition: "A polygon with four sides and four angles" },
            { id: 16, term: "Pentagon", definition: "A polygon with five sides and five angles" },
            { id: 17, term: "Hexagon", definition: "A polygon with six sides and six angles" },
            { id: 18, term: "Isosceles Triangle", definition: "A triangle with two sides of equal length" },
            { id: 19, term: "Equilateral Triangle", definition: "A triangle with all three sides of equal length" },
            { id: 20, term: "Scalene Triangle", definition: "A triangle with all three sides of different lengths" },
            { id: 21, term: "Rectangle", definition: "A quadrilateral with four right angles and opposite sides equal" },
            { id: 22, term: "Square", definition: "A rectangle with all four sides of equal length" },
            { id: 23, term: "Rhombus", definition: "A quadrilateral with all four sides of equal length" },
            { id: 24, term: "Parallelogram", definition: "A quadrilateral with opposite sides parallel and equal" },
            { id: 25, term: "Trapezoid", definition: "A quadrilateral with exactly one pair of parallel sides" },
            { id: 26, term: "Chord", definition: "A straight line connecting two points on a circle" },
            { id: 27, term: "Arc", definition: "A portion of the circumference of a circle" },
            { id: 28, term: "Sector", definition: "A region of a circle bounded by two radii and an arc" },
            { id: 29, term: "Tangent", definition: "A line that touches a circle at exactly one point" },
            { id: 30, term: "Hypotenuse", definition: "The longest side of a right triangle, opposite the right angle" }
        ];

        let defGameActive = false;
        let defSelectedTerm = null;
        let defMatchedPairs = [];
        let defCurrentSet = [];
        let defStartTime = 0;
        let defTimer = null;

        function startDefinitionsGame() {
            defGameActive = true;
            defMatchedPairs = [];
            defSelectedTerm = null;
            defStartTime = Date.now();
            
            // Select 5 random definitions
            const shuffled = mathDefinitions.sort(() => Math.random() - 0.5);
            defCurrentSet = shuffled.slice(0, 5);
            
            // Update UI
            document.getElementById('defStartBtn').style.display = 'none';
            document.getElementById('defResetBtn').style.display = 'inline-block';
            document.getElementById('defScore').textContent = '0';
            document.getElementById('defFeedback').textContent = '';
            document.getElementById('defFeedback').className = 'definitions-feedback';
            
            // Start timer
            defTimer = setInterval(updateDefTimer, 1000);
            
            renderDefTerms();
            renderDefMeanings();
        }

        function renderDefTerms() {
            const container = document.getElementById('defTermsContainer');
            container.innerHTML = '';
            
            defCurrentSet.forEach(item => {
                if (!defMatchedPairs.includes(item.id)) {
                    const termCard = document.createElement('div');
                    termCard.className = 'def-term-card';
                    termCard.textContent = item.term;
                    termCard.onclick = () => selectDefTerm(item.id, termCard);
                    container.appendChild(termCard);
                }
            });
        }

        function renderDefMeanings() {
            const container = document.getElementById('defMeaningsContainer');
            container.innerHTML = '';
            
            // Shuffle definitions for variety
            const shuffledSet = [...defCurrentSet].sort(() => Math.random() - 0.5);
            
            shuffledSet.forEach(item => {
                if (!defMatchedPairs.includes(item.id)) {
                    const meaningCard = document.createElement('div');
                    meaningCard.className = 'def-meaning-card';
                    meaningCard.textContent = item.definition;
                    meaningCard.onclick = () => attemptDefMatch(item.id);
                    container.appendChild(meaningCard);
                }
            });
        }

        function selectDefTerm(termId, cardElement) {
            if (!defGameActive) return;
            
            // Clear previous selections
            document.querySelectorAll('.def-term-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.querySelectorAll('.def-meaning-card').forEach(card => {
                card.classList.remove('highlight');
            });
            
            defSelectedTerm = termId;
            cardElement.classList.add('selected');
            
            // Highlight possible definitions
            document.querySelectorAll('.def-meaning-card').forEach(card => {
                card.classList.add('highlight');
            });
        }

        function attemptDefMatch(definitionId) {
            if (!defGameActive || !defSelectedTerm) return;
            
            if (defSelectedTerm === definitionId) {
                // Correct match!
                defMatchedPairs.push(definitionId);
                
                // Update score
                document.getElementById('defScore').textContent = defMatchedPairs.length;
                
                // Show success feedback
                const feedback = document.getElementById('defFeedback');
                feedback.textContent = 'üéâ Correct match!';
                feedback.className = 'definitions-feedback success';
                
                setTimeout(() => {
                    renderDefTerms();
                    renderDefMeanings();
                    checkDefGameComplete();
                    
                    // Clear feedback after a moment
                    setTimeout(() => {
                        if (defMatchedPairs.length < 5) {
                            feedback.textContent = '';
                            feedback.className = 'definitions-feedback';
                        }
                    }, 1500);
                }, 600);
            } else {
                // Incorrect match
                const feedback = document.getElementById('defFeedback');
                feedback.textContent = '‚ùå Try again! That\'s not the right match.';
                feedback.className = 'definitions-feedback error';
                
                setTimeout(() => {
                    feedback.textContent = '';
                    feedback.className = 'definitions-feedback';
                }, 2000);
            }
            
            defSelectedTerm = null;
            
            // Clear selections
            document.querySelectorAll('.def-term-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.querySelectorAll('.def-meaning-card').forEach(card => {
                card.classList.remove('highlight');
            });
        }

        function updateDefTimer() {
            if (!defGameActive) return;
            
            const elapsed = Math.floor((Date.now() - defStartTime) / 1000);
            document.getElementById('defTimer').textContent = elapsed;
        }

        function checkDefGameComplete() {
            if (defMatchedPairs.length === 5) {
                defGameActive = false;
                clearInterval(defTimer);
                
                const totalTime = Math.floor((Date.now() - defStartTime) / 1000);
                const feedback = document.getElementById('defFeedback');
                feedback.textContent = `üèÜ Excellent! All matches completed in ${totalTime} seconds!`;
                feedback.className = 'definitions-feedback complete';
                
                // Hide game area and show completion
                setTimeout(() => {
                    document.getElementById('defTermsContainer').innerHTML = '<div style="text-align: center; color: #059669; font-weight: bold;">üéØ All Terms Matched!</div>';
                    document.getElementById('defMeaningsContainer').innerHTML = '<div style="text-align: center; color: #059669; font-weight: bold;">üéâ Perfect Score!</div>';
                }, 1000);
            }
        }

        function resetDefinitionsGame() {
            defGameActive = false;
            defMatchedPairs = [];
            defSelectedTerm = null;
            defCurrentSet = [];
            
            if (defTimer) {
                clearInterval(defTimer);
                defTimer = null;
            }
            
            // Reset UI
            document.getElementById('defStartBtn').style.display = 'inline-block';
            document.getElementById('defResetBtn').style.display = 'none';
            document.getElementById('defScore').textContent = '0';
            document.getElementById('defTimer').textContent = '0';
            document.getElementById('defFeedback').textContent = '';
            document.getElementById('defFeedback').className = 'definitions-feedback';
            
            // Clear containers
            document.getElementById('defTermsContainer').innerHTML = '<div style="text-align: center; color: #6b7280; font-style: italic;">Click "Start Game" to begin!</div>';
            document.getElementById('defMeaningsContainer').innerHTML = '<div style="text-align: center; color: #6b7280; font-style: italic;">Match terms with definitions!</div>';
        }

        // Initialize definitions game
        resetDefinitionsGame();

        // Initialize the game
        initializeGame();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99823801c23ba855',t:'MTc2MjA3MTY5MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>